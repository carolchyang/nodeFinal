{"version":3,"file":"js/318.d6805978.js","mappings":"mLAeA,MAAMA,GAASC,EAAAA,EAAAA,KACTC,GAAQC,EAAAA,EAAAA,KAEd,QAAeC,EAAAA,EAAAA,IAAY,YAAa,CACtCC,MAAO,KACE,CAELC,QAAS,CACPC,KAAM,GACNC,MAAO,GACPC,OAAQ,GACRC,IAAK,IAGPC,YAAa,CACXJ,KAAM,GACNC,MAAO,GACPC,OAAQ,IAGVG,aAAc,CACZL,KAAM,GACNC,MAAO,GACPE,IAAK,MAIXG,QAAS,CAEPC,OAAOC,EAAMC,GACXhB,EAAOiB,eAAc,IACrBC,EAAAA,EAAAA,IAAcF,GACXG,MAAMC,IAEL,MAAM,MAAEC,GAAUD,EAAIJ,KAAKA,MAC3BM,EAAAA,EAAAA,IAASD,GAGTN,EAAKQ,YAELvB,EAAOiB,eAAc,GAGrBO,EAAAA,EAAAA,KAAY,CAAEjB,KAAM,uBAErBkB,OAAOC,IACN1B,EAAO2B,YAAY,CACjBC,MAAO,SACPC,QAASH,EAAII,UAAUd,MAAMe,SAAW,SAE1C/B,EAAOiB,eAAc,OAI3Be,OAAOjB,EAAMC,GACXhB,EAAOiB,eAAc,IACrBgB,EAAAA,EAAAA,IAAcjB,GACXG,MAAMC,IAEL,MAAM,MAAEC,GAAUD,EAAIJ,KAAKA,MAC3BM,EAAAA,EAAAA,IAASD,GAGTN,EAAKQ,YAELvB,EAAO2B,YAAY,CACjBC,MAAO,OACPC,QAAS,SAGX7B,EAAOiB,eAAc,GACrBO,EAAAA,EAAAA,KAAY,CAAEjB,KAAM,uBAErBkB,OAAOC,IACN1B,EAAO2B,YAAY,CACjBC,MAAO,SACPC,QAASH,EAAII,UAAUd,MAAMe,SAAW,SAE1C/B,EAAOiB,eAAc,OAI3BiB,mBACElC,EAAOmC,WAAY,QACbC,EAAAA,EAAAA,MACHjB,MAAMC,IACLiB,KAAK/B,QAAUc,EAAIJ,KAAKA,KACxBqB,KAAKC,kBAAkBD,KAAK/B,SAE5BN,EAAOmC,WAAY,KAEpBV,OAAOC,IACN1B,EAAO2B,YAAY,CACjBC,MAAO,SACPC,QACEH,EAAII,UAAUd,MAAMe,SAAW,mBAEnC/B,EAAOmC,WAAY,GAGnBI,EAAAA,EAAAA,MACAf,EAAAA,EAAAA,KAAY,eAIlBU,oBAAoBlB,GAClBhB,EAAOiB,eAAc,SACfuB,EAAAA,EAAAA,IAAiBxB,GACpBG,MAAMC,IACLiB,KAAK/B,QAAUc,EAAIJ,KAAKA,KAAKyB,KAG7BJ,KAAKC,kBAAkBD,KAAK/B,SAG5BJ,EAAMwC,eAAe,CACnBC,MAAO,SACPd,QAAS,iBAEX7B,EAAOiB,eAAc,MAEtBQ,OAAOC,IACN1B,EAAO2B,YAAY,CACjBC,MAAO,SACPC,QAASH,EAAII,UAAUd,MAAMe,SAAW,SAE1C/B,EAAOiB,eAAc,OAI3BiB,qBAAqBnB,EAAMC,GACzBhB,EAAOiB,eAAc,SACf2B,EAAAA,EAAAA,IAAkB5B,GACrBG,MAAK,KAEJJ,EAAKQ,YAGLrB,EAAMwC,eAAe,CACnBC,MAAO,SACPd,QAAS,kBAGX7B,EAAOiB,eAAc,MAEtBQ,OAAOC,IACN1B,EAAO2B,YAAY,CACjBC,MAAO,SACPC,QAASH,EAAII,UAAUd,MAAMe,SAAW,WAE1C/B,EAAOiB,eAAc,OAI3BiB,sBAAsBlB,GACpBhB,EAAOiB,eAAc,SACf4B,EAAAA,EAAAA,IAAkB7B,GACrBG,MAAK,KAEJjB,EAAMwC,eAAe,CACnBC,MAAO,cACPd,QAAS,kCAGX7B,EAAOiB,eAAc,MAEtBQ,OAAOC,IACNxB,EAAMwC,eAAe,CACnBC,MAAO,SACPd,QACEH,EAAII,UAAUd,MAAMe,SAAW,kBAEnC/B,EAAOiB,eAAc,OAI3BiB,qBAAqBb,EAAOL,GAC1BhB,EAAOiB,eAAc,SACf6B,EAAAA,EAAAA,IAAkBzB,EAAOL,GAC5BG,MAAK,KAEJjB,EAAMwC,eAAe,CACnBC,MAAO,SACPd,QAAS,eAGXL,EAAAA,EAAAA,KAAY,WACZxB,EAAOiB,eAAc,MAEtBQ,OAAOC,IACNxB,EAAMwC,eAAe,CACnBC,MAAO,SACPd,QAASH,EAAII,UAAUd,MAAMe,SAAW,WAE1C/B,EAAOiB,eAAc,OAI3BqB,kBAAkBtB,GAChBqB,KAAK1B,YAAc,CACjBJ,KAAMS,EAAKT,KACXC,MAAOQ,EAAKR,MACZC,OAAQO,EAAKP,SAIjBsC,mBAAmB/B,GACjBqB,KAAKzB,aAAeI,O,oGC3NhBgC,MAAM,kC,GACLA,MAAM,O,GACJA,MAAM,mB,GAINA,MAAM,8B,0HARNC,EAAAA,eAAAA,EAAAA,EAAAA,OAAXC,EAAAA,EAAAA,IAaM,MAAAC,EAAA,EAZJC,EAAAA,EAAAA,IAAuDC,EAAA,CAArCC,UAAUC,EAAAA,SAAO,uBACnCC,EAAAA,EAAAA,GAUO,OAVP,EAUO,EATLA,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJA,EAAAA,EAAAA,GAEM,MAFN,EAEM,cADJC,EAAAA,EAAAA,IAAkDC,EAAA,CAApCC,IAAKC,EAAAA,OAAOC,eAG5BL,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJJ,EAAAA,EAAAA,IAAiCU,aATzC,e,2CCAKd,MAAM,U,GACJA,MAAM,+D,WAC+B,Y,GACnCA,MAAM,6B,mBAOPe,IAAAC,EACAhB,MAAM,0B,GAGHA,MAAM,Y,GAEPA,MAAM,uEACNiB,KAAK,IACLC,KAAK,SACLC,GAAG,mBACH,iBAAe,WACf,gBAAc,S,GAKdnB,MAAM,2DACN,kBAAgB,oB,GAEZA,MAAM,4C,GAaNA,MAAM,4C,WACkC,S,GAExCA,MAAM,4C,WACyC,Y,GAI/CA,MAAM,4B,0EAlDpBE,EAAAA,EAAAA,IA+DM,MA/DN,EA+DM,EA9DJM,EAAAA,EAAAA,GA6DM,MA7DN,EA6DM,EA5DJJ,EAAAA,EAAAA,IAA8DgB,EAAA,CAAjDC,GAAG,IAAIrB,MAAM,eAA1B,C,kBAAwC,IAAQ,M,OAChDQ,EAAAA,EAAAA,GA0DM,MA1DN,EA0DM,CAtDII,EAAAA,QAAQpD,QAAAA,EAAAA,EAAAA,OAHhB0C,EAAAA,EAAAA,IAIE,O,MAHCa,IAAKH,EAAAA,QAAQpD,MACdwC,MAAM,0BAFR,wBAKAE,EAAAA,EAAAA,IAIE,MAJF,KAKAM,EAAAA,EAAAA,GA8CM,MA9CN,EA8CM,EA7CJA,EAAAA,EAAAA,GASI,IATJ,GASIc,EAAAA,EAAAA,IADCV,EAAAA,QAAQrD,MAAI,IAEjBiD,EAAAA,EAAAA,GAkCK,KAlCL,EAkCK,EA9BHA,EAAAA,EAAAA,GAYK,KAZL,EAYK,EAXHA,EAAAA,EAAAA,GAUI,KATFS,KAAK,IACJM,QAAK,8BAAUhB,EAAAA,gBAAAA,EAAAA,kBAAAA,IAAc,cAC9BP,OAAK,SAAC,gBAAe,C,OAC8C,qBAAXY,EAAAA,OAAOrD,MAAI,yBAIpE,UAED,MAEFiD,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHJ,EAAAA,EAAAA,IAA6DgB,EAAA,CAAhDC,GAAG,IAAIrB,MAAM,iBAA1B,C,kBAA0C,IAAK,M,SAEjDQ,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHJ,EAAAA,EAAAA,IAEcgB,EAAA,CAFDC,GAAG,WAAWrB,MAAM,iBAAjC,C,kBAAiD,IAEjD,M,SAEFQ,EAAAA,EAAAA,GAQK,KARL,EAQK,EAPHA,EAAAA,EAAAA,GAMI,KALFS,KAAK,IACLjB,MAAM,gBACLuB,QAAK,yBAAUX,EAAAA,MAAK,4BACtB,oB,wBAef,GACErD,KAAM,kBACNiE,QAAS,CAEPC,iBACE,MAAM/D,EAAM2B,KAAK/B,QAAQI,IACzB2B,KAAKU,mBAAmBV,KAAK/B,SAC7B+B,KAAKqC,QAAQC,KAAK,CAAEC,KAAO,iBAAgBlE,WAE1CmE,EAAAA,EAAAA,IAAWC,EAAAA,EAAW,CAAC,wBAE5BC,SAAU,KACLC,EAAAA,EAAAA,IAASF,EAAAA,EAAW,CAAC,c,QC9E5B,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,Q,SCNSjC,MAAM,S,GACNA,MAAM,gB,WAIR,U,GAGGA,MAAM,a,GACJA,MAAM,W,mBAgBJe,IAAAC,EACAhB,MAAM,0B,GAGJA,MAAM,oC,GAKVA,MAAM,W,GAENQ,EAAAA,EAAAA,GAEM,OAFDR,MAAM,iBAAe,EACxBQ,EAAAA,EAAAA,GAAgC,KAA7BR,MAAM,uBADX,G,GAGAQ,EAAAA,EAAAA,GAAuD,MAAnDR,MAAM,oCAAmC,SAAK,G,GAGlDA,MAAM,W,GAENQ,EAAAA,EAAAA,GAEM,OAFDR,MAAM,iBAAe,EACxBQ,EAAAA,EAAAA,GAA0B,KAAvBR,MAAM,iBADX,G,GAGAQ,EAAAA,EAAAA,GAAsD,MAAlDR,MAAM,oCAAmC,QAAI,G,GAKjDQ,EAAAA,EAAAA,GAEM,OAFDR,MAAM,iBAAe,EACxBQ,EAAAA,EAAAA,GAAoC,KAAjCR,MAAM,2BADX,G,GAGAQ,EAAAA,EAAAA,GAAwD,MAApDR,MAAM,oCAAmC,UAAM,G,GAGnDA,MAAM,a,GAENQ,EAAAA,EAAAA,GAEM,OAFDR,MAAM,iBAAe,EACxBQ,EAAAA,EAAAA,GAA6B,KAA1BR,MAAM,oBADX,G,0EA5DVE,EAAAA,EAAAA,IAmEQ,QAnER,EAmEQ,EAlENM,EAAAA,EAAAA,GAiEM,MAjEN,EAiEM,EAhEJJ,EAAAA,EAAAA,IAKcgB,EAAA,CAJZC,GAAG,cACHrB,MAAM,kEAFR,C,kBAGC,IAED,M,OACAQ,EAAAA,EAAAA,GAyDK,KAzDL,EAyDK,EAxDHA,EAAAA,EAAAA,GAwBK,KAxBL,EAwBK,EAvBHA,EAAAA,EAAAA,GAsBI,KArBFS,KAAK,IACLjB,OAAK,SAAC,YAAW,C,OAC0C,qBAAXY,EAAAA,OAAOrD,MAAI,wBAI1DgE,QAAK,8BAAUhB,EAAAA,gBAAAA,EAAAA,kBAAAA,IAAc,eAPhC,CAYUK,EAAAA,QAAQpD,QAAAA,EAAAA,EAAAA,OAHhB0C,EAAAA,EAAAA,IAIE,O,MAHCa,IAAKH,EAAAA,QAAQpD,MACdwC,MAAM,0BAFR,wBAKAE,EAAAA,EAAAA,IAIE,MAJF,KAKAM,EAAAA,EAAAA,GAEK,KAFL,GAEKc,EAAAA,EAAAA,IADAV,EAAAA,QAAQrD,MAAO,SACpB,IArBF,MAwBFiD,EAAAA,EAAAA,GAOK,KAPL,EAOK,EANHJ,EAAAA,EAAAA,IAKcgB,EAAA,CALDC,GAAG,IAAIrB,MAAM,aAA1B,C,kBACE,IAEM,CAFNkC,EAGAC,K,SAGJ3B,EAAAA,EAAAA,GAOK,KAPL,EAOK,EANHJ,EAAAA,EAAAA,IAKcgB,EAAA,CALDC,GAAG,UAAUrB,MAAM,aAAhC,C,kBACE,IAEM,CAFNoC,EAGAC,K,SAGJ7B,EAAAA,EAAAA,GAOK,YANHJ,EAAAA,EAAAA,IAKcgB,EAAA,CALDC,GAAG,aAAarB,MAAM,aAAnC,C,kBACE,IAEM,CAFNsC,EAGAC,K,SAGJ/B,EAAAA,EAAAA,GAMK,KANL,EAMK,EALHJ,EAAAA,EAAAA,IAIcgB,EAAA,CAJDC,GAAG,cAAcrB,MAAM,aAApC,C,kBACE,IAEM,CAFNwC,K,cAcZ,QACEjF,KAAM,iBACNiE,QAAS,CAEPC,iBACE,MAAM/D,EAAM2B,KAAK/B,QAAQI,IACzB2B,KAAKU,mBAAmBV,KAAK/B,SAC7B+B,KAAKqC,QAAQC,KAAK,CAAEC,KAAO,iBAAgBlE,WAE1CmE,EAAAA,EAAAA,IAAWC,EAAAA,EAAW,CAAC,wBAE5BC,SAAU,KACLC,EAAAA,EAAAA,IAASF,EAAAA,EAAW,CAAC,cClF5B,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,KAEpE,U,iCJmBA,IACEvE,KAAM,aACNS,OACE,MAAO,CACLyE,cAAc,EACdC,aAAc,KAGlBlB,QAAS,CAEPmB,cAEE,MAAMtE,GAAQuE,EAAAA,GAAAA,MAGVvE,GACFgB,KAAKoD,cAAe,EACpBpD,KAAKwD,MAAMC,SAASC,QAAQC,OAAOC,cAAiB,UAAS5E,IAE7DgB,KAAK6D,eAEL7D,KAAKoD,cAAe,EACpBpD,KAAKV,YAAY,CACfC,MAAO,SACPC,QAAS,SAEXQ,KAAKqC,QAAQC,KAAK,aAItBwB,WACE5D,EAAAA,GAAAA,MACAF,KAAKoD,cAAe,EACpBpD,KAAKqC,QAAQC,KAAK,gBAEjBE,EAAAA,EAAAA,IAAW5E,GAAAA,EAAa,CAAC,oBACzB4E,EAAAA,EAAAA,IAAWC,EAAAA,EAAW,CAAC,gBAE5BsB,UACE/D,KAAKsD,cAELU,GAAAA,GAAAA,GAAU,WAAW,KACnBC,QAAQC,IAAK,GAAElE,KAAKmE,OAAOjG,yBAC3B8B,KAAKqD,aAAerD,KAAKmE,OAAOjG,QAGlC8F,GAAAA,GAAAA,GAAU,cAAc,KACtBC,QAAQC,IAAK,GAAElE,KAAKqD,sCAGxBe,WAAY,CACVC,gBADU,EAEVC,eAAcA,KKzElB,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAASC,KAEpE,W","sources":["webpack://node_final/./src/stores/userStore.js","webpack://node_final/./src/views/LayoutView.vue","webpack://node_final/./src/components/NavbarComponent.vue","webpack://node_final/./src/components/NavbarComponent.vue?3cc2","webpack://node_final/./src/components/AsideComponent.vue","webpack://node_final/./src/components/AsideComponent.vue?207e","webpack://node_final/./src/views/LayoutView.vue?6424"],"sourcesContent":["import router from \"@/router\";\nimport { defineStore } from \"pinia\";\nimport {\n  apiUserSignIn,\n  apiUserSignUp,\n  apiGetProfile,\n  apiUpdateProfile,\n  apiUpdatePassword,\n  apiForgetPassword,\n  apiModifyPassword,\n} from \"@/scripts/api\";\nimport statusStore from \"./statusStore\";\nimport modalStore from \"./modalStore\";\nimport { setToken, clearToken } from \"@/scripts/methods\";\n\nconst status = statusStore();\nconst modal = modalStore();\n\nexport default defineStore(\"userStore\", {\n  state: () => {\n    return {\n      // 個人資料\n      profile: {\n        name: \"\",\n        photo: \"\",\n        gender: \"\",\n        _id: \"\",\n      },\n      // 個人資料頁面 - 個人資料暫存表格\n      tempProfile: {\n        name: \"\",\n        photo: \"\",\n        gender: \"\",\n      },\n      //個人牆頁面設置\n      personalInfo: {\n        name: \"\",\n        photo: \"\",\n        _id: \"\",\n      },\n    };\n  },\n  actions: {\n    // 登入\n    signIn(form, data) {\n      status.toggleLoading(true);\n      apiUserSignIn(data)\n        .then((res) => {\n          // 設定 token\n          const { token } = res.data.data;\n          setToken(token);\n\n          // 重置表單\n          form.resetForm();\n\n          status.toggleLoading(false);\n\n          // 轉至全體動態牆頁面\n          router.push({ name: \"DynamicWallView\" });\n        })\n        .catch((err) => {\n          status.pushMessage({\n            style: \"danger\",\n            content: err.response?.data?.message || \"登入失敗\",\n          });\n          status.toggleLoading(false);\n        });\n    },\n    // 註冊\n    signUp(form, data) {\n      status.toggleLoading(true);\n      apiUserSignUp(data)\n        .then((res) => {\n          // 設定 token\n          const { token } = res.data.data;\n          setToken(token);\n\n          // 清空表格\n          form.resetForm();\n\n          status.pushMessage({\n            style: \"dark\",\n            content: \"註冊成功\",\n          });\n\n          status.toggleLoading(false);\n          router.push({ name: \"DynamicWallView\" });\n        })\n        .catch((err) => {\n          status.pushMessage({\n            style: \"danger\",\n            content: err.response?.data?.message || \"註冊失敗\",\n          });\n          status.toggleLoading(false);\n        });\n    },\n    // 取得用戶資料\n    async getProfile() {\n      status.isLoading = true;\n      await apiGetProfile()\n        .then((res) => {\n          this.profile = res.data.data;\n          this.updateProfileData(this.profile);\n\n          status.isLoading = false;\n        })\n        .catch((err) => {\n          status.pushMessage({\n            style: \"danger\",\n            content:\n              err.response?.data?.message || \"取得個人資料失敗，請重新登入\",\n          });\n          status.isLoading = false;\n\n          // 若驗證個人資料失敗則強制登出\n          clearToken();\n          router.push(\"/signin\");\n        });\n    },\n    // 更新個人資料\n    async updateProfile(data) {\n      status.toggleLoading(true);\n      await apiUpdateProfile(data)\n        .then((res) => {\n          this.profile = res.data.data.user;\n\n          // 更新用戶 data 資料\n          this.updateProfileData(this.profile);\n\n          // 開啟 msgModal 提示訊息\n          modal.toggleMsgModal({\n            title: \"更新個人資料\",\n            content: \"已成功更新您的個人資料~\",\n          });\n          status.toggleLoading(false);\n        })\n        .catch((err) => {\n          status.pushMessage({\n            style: \"danger\",\n            content: err.response?.data?.message || \"更新失敗\",\n          });\n          status.toggleLoading(false);\n        });\n    },\n    // 更新密碼\n    async updatePassword(form, data) {\n      status.toggleLoading(true);\n      await apiUpdatePassword(data)\n        .then(() => {\n          // 重置表單\n          form.resetForm();\n\n          // 開啟 msgModal 提示訊息\n          modal.toggleMsgModal({\n            title: \"更新密碼成功\",\n            content: \"下次登入記得使用新密碼喔~\",\n          });\n\n          status.toggleLoading(false);\n        })\n        .catch((err) => {\n          status.pushMessage({\n            style: \"danger\",\n            content: err.response?.data?.message || \"更新密碼失敗\",\n          });\n          status.toggleLoading(false);\n        });\n    },\n    // 寄信重設 Email\n    async sendForgetEmail(data) {\n      status.toggleLoading(true);\n      await apiForgetPassword(data)\n        .then(() => {\n          // 開啟 msgModal 提示訊息\n          modal.toggleMsgModal({\n            title: \"信件已寄出，請收取郵件\",\n            content: \"請至信箱收取重設密碼信，若 1 天內沒收到信再請嘗試一次~\",\n          });\n\n          status.toggleLoading(false);\n        })\n        .catch((err) => {\n          modal.toggleMsgModal({\n            title: \"驗證信箱失敗\",\n            content:\n              err.response?.data?.message || \"驗證信箱失敗，再請確認信箱\",\n          });\n          status.toggleLoading(false);\n        });\n    },\n    // 重設密碼 - 收取郵件\n    async modifyPassword(token, data) {\n      status.toggleLoading(true);\n      await apiModifyPassword(token, data)\n        .then(() => {\n          // 開啟 msgModal 提示訊息\n          modal.toggleMsgModal({\n            title: \"重設密碼成功\",\n            content: \"請使用新密碼登入喔~\",\n          });\n\n          router.push(\"/signin\");\n          status.toggleLoading(false);\n        })\n        .catch((err) => {\n          modal.toggleMsgModal({\n            title: \"重設密碼失敗\",\n            content: err.response?.data?.message || \"重設密碼失敗\",\n          });\n          status.toggleLoading(false);\n        });\n    },\n    // 更新個人資料頁面 - 個人資料暫存表格\n    updateProfileData(data) {\n      this.tempProfile = {\n        name: data.name,\n        photo: data.photo,\n        gender: data.gender,\n      };\n    },\n    // 取得 personalWall 用戶資料\n    togglePersonalInfo(data) {\n      this.personalInfo = data;\n    },\n  },\n});\n","<template>\n  <div v-if=\"checkSuccess\">\n    <NavbarComponent @sign-out=\"signOut\"></NavbarComponent>\n    <main class=\"container pt-11 pb-14 pb-lg-11\">\n      <div class=\"row\">\n        <div class=\"col-12 col-lg-8\">\n          <router-view :key=\"$route.fullPath\"></router-view>\n        </div>\n\n        <div class=\"col-lg-4 position-relative\">\n          <AsideComponent></AsideComponent>\n        </div>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport NavbarComponent from \"@/components/NavbarComponent\";\nimport AsideComponent from \"@/components/AsideComponent\";\nimport { mapActions } from \"pinia\";\nimport statusStore from \"@/stores/statusStore\";\nimport userStore from \"@/stores/userStore\";\nimport { getToken, clearToken } from \"@/scripts/methods\";\nimport { socket } from \"@/scripts/api\";\n\nexport default {\n  name: \"LayoutView\",\n  data() {\n    return {\n      checkSuccess: false,\n      preRouteName: \"\",\n    };\n  },\n  methods: {\n    // 確認登入狀態\n    checkSignIn() {\n      // 取得 cookie 中的 token\n      const token = getToken();\n\n      // 若有 token 則登入，反之轉為登入頁面\n      if (token) {\n        this.checkSuccess = true;\n        this.$http.defaults.headers.common.Authorization = `Bearer ${token}`;\n\n        this.getProfile();\n      } else {\n        this.checkSuccess = false;\n        this.pushMessage({\n          style: \"danger\",\n          content: \"請先登入\",\n        });\n        this.$router.push(\"/signin\");\n      }\n    },\n    // 登出\n    signOut() {\n      clearToken();\n      this.checkSuccess = false;\n      this.$router.push(\"/signin\");\n    },\n    ...mapActions(statusStore, [\"pushMessage\"]),\n    ...mapActions(userStore, [\"getProfile\"]),\n  },\n  created() {\n    this.checkSignIn();\n\n    socket.on(\"connect\", () => {\n      console.log(`${this.$route.name} socket connected`);\n      this.preRouteName = this.$route.name;\n    });\n\n    socket.on(\"disconnect\", () => {\n      console.log(`${this.preRouteName} socket disconnect`);\n    });\n  },\n  components: {\n    NavbarComponent,\n    AsideComponent,\n  },\n};\n</script>\n","<template>\n  <div class=\"navbar\">\n    <div class=\"container d-flex justify-content-between align-items-center\">\n      <router-link to=\"/\" class=\"navbarBrand\">MetaWall</router-link>\n      <div class=\"d-flex align-items-center\">\n        <img\n          :src=\"profile.photo\"\n          class=\"thumbnail thumbnail-sm\"\n          v-if=\"profile.photo\"\n        />\n        <img\n          src=\"../assets/images/user_default.png\"\n          class=\"thumbnail thumbnail-sm\"\n          v-else\n        />\n        <div class=\"dropdown\">\n          <a\n            class=\"dropdown-toggle ms-3 px-2 border-bottom border-2 text-dark fw-bolder\"\n            href=\"#\"\n            role=\"button\"\n            id=\"dropdownMenuLink\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            {{ profile.name }}\n          </a>\n          <ul\n            class=\"dropdown-menu dropdown-menu-end customShadow text-center\"\n            aria-labelledby=\"dropdownMenuLink\"\n          >\n            <li class=\"bg-white border border-2 border-bottom-0\">\n              <a\n                href=\"#\"\n                @click.prevent=\"toPersonalWall\"\n                class=\"dropdown-item\"\n                :class=\"{\n                  active:\n                    $route.name === 'PersonalWallView' && 'router-link-active',\n                }\"\n              >\n                我的貼文牆\n              </a>\n            </li>\n            <li class=\"bg-white border border-2 border-bottom-0\">\n              <router-link to=\"/\" class=\"dropdown-item\">全體動態牆</router-link>\n            </li>\n            <li class=\"bg-white border border-2 border-bottom-0\">\n              <router-link to=\"/profile\" class=\"dropdown-item\">\n                修改個人資料\n              </router-link>\n            </li>\n            <li class=\"bg-white border border-2\">\n              <a\n                href=\"#\"\n                class=\"dropdown-item\"\n                @click.prevent=\"$emit('sign-out')\"\n              >\n                登出\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"pinia\";\nimport userStore from \"@/stores/userStore\";\n\nexport default {\n  name: \"NavbarComponent\",\n  methods: {\n    // 轉至 PersonalWall 頁面\n    toPersonalWall() {\n      const _id = this.profile._id;\n      this.togglePersonalInfo(this.profile);\n      this.$router.push({ path: `/personalwall/${_id}` });\n    },\n    ...mapActions(userStore, [\"togglePersonalInfo\"]),\n  },\n  computed: {\n    ...mapState(userStore, [\"profile\"]),\n  },\n};\n</script>\n","import { render } from \"./NavbarComponent.vue?vue&type=template&id=eb78dc08\"\nimport script from \"./NavbarComponent.vue?vue&type=script&lang=js\"\nexport * from \"./NavbarComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Node.js 直播班\\\\小組\\\\期末小組\\\\node_final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <aside class=\"aside\">\n    <div class=\"asideContent\">\n      <router-link\n        to=\"/createpost\"\n        class=\"effectBtn d-none d-lg-block btn btn-primary w-100 mb-6 fw-bold\"\n      >\n        張貼動態\n      </router-link>\n      <ul class=\"asideList\">\n        <li class=\"mb-lg-8\">\n          <a\n            href=\"#\"\n            class=\"asideLink\"\n            :class=\"{\n              active:\n                $route.name === 'PersonalWallView' && 'router-link-active',\n            }\"\n            @click.prevent=\"toPersonalWall\"\n          >\n            <img\n              :src=\"profile.photo\"\n              class=\"thumbnail thumbnail-xl\"\n              v-if=\"profile.photo\"\n            />\n            <img\n              src=\"../assets/images/user_default.png\"\n              class=\"thumbnail thumbnail-xl\"\n              v-else\n            />\n            <h5 class=\"d-none d-lg-block ms-4 fw-bolder\">\n              {{ profile.name }} 的貼文牆\n            </h5>\n          </a>\n        </li>\n        <li class=\"mb-lg-8\">\n          <router-link to=\"/\" class=\"asideLink\">\n            <div class=\"asideLinkIcon\">\n              <i class=\"bi bi-house-door\"></i>\n            </div>\n            <h5 class=\"d-none d-lg-block ms-4 fw-bolder\">全體動態牆</h5>\n          </router-link>\n        </li>\n        <li class=\"mb-lg-8\">\n          <router-link to=\"/follow\" class=\"asideLink\">\n            <div class=\"asideLinkIcon\">\n              <i class=\"bi bi-bell\"></i>\n            </div>\n            <h5 class=\"d-none d-lg-block ms-4 fw-bolder\">追蹤名單</h5>\n          </router-link>\n        </li>\n        <li>\n          <router-link to=\"/likeposts\" class=\"asideLink\">\n            <div class=\"asideLinkIcon\">\n              <i class=\"bi bi-hand-thumbs-up\"></i>\n            </div>\n            <h5 class=\"d-none d-lg-block ms-4 fw-bolder\">我按讚的文章</h5>\n          </router-link>\n        </li>\n        <li class=\"d-lg-none\">\n          <router-link to=\"/createpost\" class=\"asideLink\">\n            <div class=\"asideLinkIcon\">\n              <i class=\"bi bi-plus-lg\"></i>\n            </div>\n          </router-link>\n        </li>\n      </ul>\n    </div>\n  </aside>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"pinia\";\nimport userStore from \"@/stores/userStore\";\n\nexport default {\n  name: \"AsideComponent\",\n  methods: {\n    // 轉至 PersonalWall 頁面\n    toPersonalWall() {\n      const _id = this.profile._id;\n      this.togglePersonalInfo(this.profile);\n      this.$router.push({ path: `/personalwall/${_id}` });\n    },\n    ...mapActions(userStore, [\"togglePersonalInfo\"]),\n  },\n  computed: {\n    ...mapState(userStore, [\"profile\"]),\n  },\n};\n</script>\n","import { render } from \"./AsideComponent.vue?vue&type=template&id=22dae8da\"\nimport script from \"./AsideComponent.vue?vue&type=script&lang=js\"\nexport * from \"./AsideComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Node.js 直播班\\\\小組\\\\期末小組\\\\node_final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LayoutView.vue?vue&type=template&id=07961d7a\"\nimport script from \"./LayoutView.vue?vue&type=script&lang=js\"\nexport * from \"./LayoutView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Node.js 直播班\\\\小組\\\\期末小組\\\\node_final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["status","statusStore","modal","modalStore","defineStore","state","profile","name","photo","gender","_id","tempProfile","personalInfo","actions","signIn","form","data","toggleLoading","apiUserSignIn","then","res","token","setToken","resetForm","router","catch","err","pushMessage","style","content","response","message","signUp","apiUserSignUp","async","isLoading","apiGetProfile","this","updateProfileData","clearToken","apiUpdateProfile","user","toggleMsgModal","title","apiUpdatePassword","apiForgetPassword","apiModifyPassword","togglePersonalInfo","class","$data","_createElementBlock","_hoisted_1","_createVNode","_component_NavbarComponent","onSignOut","$options","_createElementVNode","_createBlock","_component_router_view","key","_ctx","fullPath","_component_AsideComponent","src","_imports_0","href","role","id","_component_router_link","to","_toDisplayString","onClick","methods","toPersonalWall","$router","push","path","mapActions","userStore","computed","mapState","__exports__","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","checkSuccess","preRouteName","checkSignIn","getToken","$http","defaults","headers","common","Authorization","getProfile","signOut","created","socket","console","log","$route","components","NavbarComponent","AsideComponent","render"],"sourceRoot":""}