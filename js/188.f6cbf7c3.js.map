{"version":3,"file":"js/188.f6cbf7c3.js","mappings":"yMAYuB,Y,WAIA,a,GAEdA,MAAM,e,WAAmC,gB,mKAVxCC,EAAAA,MAAMC,SAAAA,EAAAA,EAAAA,OANdC,EAAAA,EAAAA,IAOoBC,EAAA,C,MANjBC,OAAQC,EAAAA,OACRC,KAAMN,EAAAA,MACNO,QAASP,EAAAA,QACTQ,aAAaC,EAAAA,WACbC,iBAAiBD,EAAAA,gBALpB,oFASAP,EAAAA,EAAAA,IAEqBS,EAAA,CAAAC,IAAAA,GAAA,CADRC,SAAO,SAAC,IAAQ,M,QAG7BC,EAAAA,EAAAA,IAMoBC,EAAA,CANAC,UAAUP,EAAAA,eAAa,CAC9BI,SAAO,SAAC,IAEjB,WAA4C,IAA5C,GAA4CI,EAAAA,EAAAA,IAAlBjB,EAAAA,MAAMkB,OAAK,GAArC,K,KAHJ,sB,uGAqBF,GACEC,KAAM,iBACNb,OACE,MAAO,CACLF,OAAQ,KAGZgB,QAAS,CAEPC,sBACEC,KAAKC,kBAAkBD,KAAKE,MAAMC,GAAIH,KAAKE,MAAME,YAC3CJ,KAAKK,WAAWL,KAAKE,MAAMC,UAC3BH,KAAKM,SAAS,CAAExB,OAAQkB,KAAKlB,SACnCkB,KAAKC,kBAAkB,GAAI,KAG7BF,kBAAiB,GAAEI,EAAF,KAAMC,IACrBJ,KAAKC,kBAAkBE,EAAI,QAC3B,IAAII,EAAa,YACL,UAARH,IACFG,EAAa,iBAETP,KAAKO,GAAYJ,SACjBH,KAAKM,SAAS,CAAExB,OAAQkB,KAAKlB,SACnCkB,KAAKC,kBAAkB,GAAI,KAG7BF,qBAAqBf,GACnBgB,KAAKC,kBAAkBjB,EAAKF,OAAQ,iBAC9BkB,KAAKQ,cAAcxB,SACnBgB,KAAKM,SAAS,CAAExB,OAAQkB,KAAKlB,SACnCkB,KAAKC,kBAAkB,GAAI,SAE1BQ,EAAAA,EAAAA,IAAWC,EAAAA,EAAa,CAAC,gBAAiB,0BAC1CD,EAAAA,EAAAA,IAAWE,EAAAA,EAAW,CAAC,iBACvBF,EAAAA,EAAAA,IAAWG,EAAAA,EAAW,CAAC,YAAa,gBACpCH,EAAAA,EAAAA,IAAWI,EAAAA,EAAc,CAAC,gBAAiB,gBAEhDC,SAAU,KACLC,EAAAA,EAAAA,IAASC,EAAAA,EAAY,CAAC,cACtBD,EAAAA,EAAAA,IAASE,EAAAA,EAAW,CAAC,gBACrBF,EAAAA,EAAAA,IAASJ,EAAAA,EAAW,CAAC,WAE1BO,WAAY,CACVC,iBADU,IAEVC,mBAFU,IAGVC,kBAAiBA,EAAAA,GAEnBtB,gBACEC,KAAKsB,eAAc,GACnBtB,KAAKlB,OAASkB,KAAKuB,OAAOC,OAAOrB,SAC3BH,KAAKM,SAAS,CAAExB,OAAQkB,KAAKlB,SACnCkB,KAAKsB,eAAc,K,QCnFvB,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://node_final/./src/views/front/SinglePostView.vue","webpack://node_final/./src/views/front/SinglePostView.vue?f285"],"sourcesContent":["<template>\n  <!-- 單一頁面不給刪除 postId 用來判定是否可以刪除 -->\n  <ArticleComponent\n    :postId=\"postId\"\n    :data=\"posts\"\n    :profile=\"profile\"\n    @toggle-like=\"toggleLike\"\n    @update-comments=\"updateComments\"\n    v-if=\"posts.length\"\n  ></ArticleComponent>\n\n  <EmptyCardComponent v-else>\n    <template #default>此貼文已被刪除！</template>\n  </EmptyCardComponent>\n\n  <DelModalComponent @del-data=\"deleteComment\">\n    <template #default>\n      確定要刪除此則\n      <b class=\"text-danger\">{{ modal.title }}</b>\n      ？（刪除後無法回復）\n    </template>\n  </DelModalComponent>\n</template>\n\n<script>\nimport ArticleComponent from \"@/components/ArticleComponent.vue\";\nimport EmptyCardComponent from \"@/components/EmptyCardComponent.vue\";\nimport DelModalComponent from \"@/components/DelModalComponent.vue\";\nimport { mapState, mapActions } from \"pinia\";\nimport statusStore from \"@/stores/statusStore\";\nimport modalStore from \"@/stores/modalStore\";\nimport userStore from \"@/stores/userStore\";\nimport postStore from \"@/stores/postStore\";\nimport likeStore from \"@/stores/likeStore\";\nimport commentStore from \"@/stores/commentStore\";\n\nexport default {\n  name: \"SinglePostView\",\n  data() {\n    return {\n      postId: \"\",\n    };\n  },\n  methods: {\n    // 刪除回覆\n    async deleteComment() {\n      this.togglePartLoading(this.modal.id, this.modal.type);\n      await this.delComment(this.modal.id);\n      await this.getPosts({ postId: this.postId });\n      this.togglePartLoading(\"\", \"\");\n    },\n    // 切換按讚狀態\n    async toggleLike({ id, type }) {\n      this.togglePartLoading(id, \"like\");\n      let toggleType = \"clickLike\";\n      if (type == \"cancel\") {\n        toggleType = \"delLike\";\n      }\n      await this[toggleType](id);\n      await this.getPosts({ postId: this.postId });\n      this.togglePartLoading(\"\", \"\");\n    },\n    // 建立回覆\n    async updateComments(data) {\n      this.togglePartLoading(data.postId, \"comment\");\n      await this.createComment(data);\n      await this.getPosts({ postId: this.postId });\n      this.togglePartLoading(\"\", \"\");\n    },\n    ...mapActions(statusStore, [\"toggleLoading\", \"togglePartLoading\"]),\n    ...mapActions(postStore, [\"getPosts\"]),\n    ...mapActions(likeStore, [\"clickLike\", \"delLike\"]),\n    ...mapActions(commentStore, [\"createComment\", \"delComment\"]),\n  },\n  computed: {\n    ...mapState(modalStore, [\"modal\"]),\n    ...mapState(userStore, [\"profile\"]),\n    ...mapState(postStore, [\"posts\"]),\n  },\n  components: {\n    ArticleComponent,\n    EmptyCardComponent,\n    DelModalComponent,\n  },\n  async created() {\n    this.toggleLoading(true);\n    this.postId = this.$route.params.id;\n    await this.getPosts({ postId: this.postId });\n    this.toggleLoading(false);\n  },\n};\n</script>\n","import { render } from \"./SinglePostView.vue?vue&type=template&id=644902a8\"\nimport script from \"./SinglePostView.vue?vue&type=script&lang=js\"\nexport * from \"./SinglePostView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\Node.js 直播班\\\\小組\\\\期末小組\\\\node_final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_ctx","length","_createBlock","_component_ArticleComponent","postId","$data","data","profile","onToggleLike","$options","onUpdateComments","_component_EmptyCardComponent","key","default","_createVNode","_component_DelModalComponent","onDelData","_toDisplayString","title","name","methods","async","this","togglePartLoading","modal","id","type","delComment","getPosts","toggleType","createComment","mapActions","statusStore","postStore","likeStore","commentStore","computed","mapState","modalStore","userStore","components","ArticleComponent","EmptyCardComponent","DelModalComponent","toggleLoading","$route","params","__exports__","render"],"sourceRoot":""}